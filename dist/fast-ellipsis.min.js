!function(e){e.module("this.fast-ellipsis.config",[]).value("this.fast-ellipsis.config",{debug:!0}),e.module("this.fast-ellipsis",["this.fast-ellipsis.config"]).directive("fastEllipsis",["$window","$timeout",function(i,t){return{restrict:"A",scope:{ellipsisText:"=",ellipsisTruncateText:"@"},compile:function(){return function(l,n){function s(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function o(i,t){var l,n,o,r,c=t.length-1,u=[],h=e.element(i);if(h.html(t.slice(0,c+1)),!s(i))return c;for(n=c,u.push({beg:0,end:n});u.length>0;)r=u.pop(),l=r.beg,n=r.end,o=Math.floor((l+n)/2),h.html(t.slice(0,o+1)),s(i)?(c>o&&(c=o),n=o-1):l=o+1,n>o&&u.push({beg:l,end:n});return c}function r(){var i=l.ellipsisText;if(i){var t=!1,r=n[0].cloneNode(!0),c=e.element(r);r.style.height=n[0].clientHeight+"px",r.style.width=n[0].clientWidth+"px",r.style.visibility="hidden",n[0].parentNode.appendChild(r);var u;u=o(r,i),t=s(r);var h=i+"";for(l.ellipsisTruncateText||(l.ellipsisTruncateText="...");t&&u>=0;)u--,h=h.slice(0,u+1),h+=l.ellipsisTruncateText,c.html(h),t=s(r);n.html(h),n[0].parentNode.removeChild(r)}}function c(){t(function(){r()})}function u(){c()}l.$watch("ellipsisText",function(){c()});var h=e.element(i);h.bind("resize",u),l.$on("$destroy",function(){h.unbind("resize",u)})}}}}])}(angular);